# 診療科の登録---------------------
department_names = %w[
  内科
  外科
  小児科
  皮膚科
  耳鼻咽喉科
  眼科
  整形外科
  泌尿器科
  循環器科
  脳神経外科
  心療内科
  リハビリテーション科
  産婦人科
]

department_names.each do |name|
  Department.find_or_create_by!(name: name)
end

# カテゴリの登録-----------------------
category_names = %w[薬 検査 生活 通院 アレルギー 緊急度]

category_names.each do |name|
  QuestionCategory.find_or_create_by!(category_name: name) # #各カテゴリに対してQuestionCategoryモデルのレコードを作成 find_or_create_by!で複数回実行しても重複しない
end

# 質問テンプレート　(診療科、カテゴリ、内容)
def create_question(department_name, category_name, content) # #3つのパラメータを受け取る
  department = Department.find_by(name: department_name) if department_name # #department_nameがnilでない場合のみ、該当する診療科を探す　 見つからない場合はdepartmentはnilになる
  category = QuestionCategory.find_by(category_name: category_name) if category_name # #category_nameがnilでない場合のみ、該当するカテゴリを検索 見つからない場合はcategoryはnilになる

  Question.find_or_create_by!(
    department_id: department&.id, # #department&.id: 診療科のIDを取得（departmentがnilならnil） ##ぼっち演算子（&.）でnilエラーを回避
    question_category_id: category&.id, # #category&.id: カテゴリのIDを取得（categoryがnilならnil）
    content: content # #同じ条件のレコードが既に存在すれば取得、なければ新規作成
  )
end

# #「診療科の名前（例：内科）」「カテゴリ名（例：薬）」「質問本文」となっている

# --- 診療科別質問データ ---
department_question_data = [
  [ "内科", nil, "この症状はどのような病気の可能性がありますか？" ],
  [ "内科", nil, "熱や咳、体のだるさは今後どうなっていきますか？" ],
  [ "内科", nil, "食事や睡眠に影響が出ているのですが、大丈夫でしょうか？" ],
  [ "内科", nil, "今飲んでいる薬は、この症状に合っていますか？" ],
  [ "内科", nil, "持病との関連はありますか？" ],

  [ "外科", nil, "痛みがあるのですが、どのような治療が必要ですか？" ],
  [ "外科", nil, "ケガをした原因がはっきりしないのですが問題ないですか？" ],
  [ "外科", nil, "腫れや出血がありますが、どう対応すべきですか？" ],
  [ "外科", nil, "手術が必要になる可能性はありますか？" ],
  [ "外科", nil, "この痛みで生活に支障が出ているのですが、改善方法はありますか？" ],

  [ "小児科", nil, "子どものこの症状はよくあることですか？" ],
  [ "小児科", nil, "発熱・鼻水などが長引いていますが大丈夫ですか？" ],
  [ "小児科", nil, "食欲や元気が少し落ちていますが問題ないですか？" ],
  [ "小児科", nil, "予防接種のスケジュールに問題はありませんか？" ],
  [ "小児科", nil, "保育園で流行している病気が気になります。関係ありますか？" ],

  [ "皮膚科", nil, "湿疹やかゆみが出ていますが、原因は何が考えられますか？" ],
  [ "皮膚科", nil, "皮膚の状態が悪化しているのは何かの影響でしょうか？" ],
  [ "皮膚科", nil, "化粧品や洗剤が関係している可能性はありますか？" ],
  [ "皮膚科", nil, "症状が出る時間帯や習慣に原因がありますか？" ],
  [ "皮膚科", nil, "市販薬を使っても大丈夫ですか？" ],

  [ "耳鼻咽喉科", nil, "耳が聞こえづらく感じますが、問題はありますか？" ],
  [ "耳鼻咽喉科", nil, "鼻水や鼻づまりが治りません。アレルギーの可能性はありますか？" ],
  [ "耳鼻咽喉科", nil, "のどが痛く声が出づらいのですが、どんな病気が考えられますか？" ],
  [ "耳鼻咽喉科", nil, "花粉症の症状がひどいのですが、良い対策はありますか？" ],
  [ "耳鼻咽喉科", nil, "いびきや睡眠中の呼吸が気になります。検査は必要ですか？" ],

  [ "眼科", nil, "視力が落ちてきた気がします。検査した方がよいですか？" ],
  [ "眼科", nil, "目が乾いたり痛んだりします。どう対処すればよいですか？" ],
  [ "眼科", nil, "今使っているメガネ・コンタクトは合っていますか？" ],
  [ "眼科", nil, "充血が治らないのですが、大丈夫でしょうか？" ],
  [ "眼科", nil, "涙の出方が気になります。異常でしょうか？" ],

  [ "整形外科", nil, "関節や筋肉が痛むのですが、原因は何が考えられますか？" ],
  [ "整形外科", nil, "動かすと痛む箇所があります。治療が必要ですか？" ],
  [ "整形外科", nil, "歩きづらいのですが、検査したほうがよいですか？" ],
  [ "整形外科", nil, "姿勢や体のバランスに違和感があります。関係していますか？" ],
  [ "整形外科", nil, "昔の骨折や手術が関係している可能性はありますか？" ],

  [ "泌尿器科", nil, "排尿時に痛みや違和感があります" ],
  [ "泌尿器科", nil, "夜間のトイレが近いです" ],
  [ "泌尿器科", nil, "尿の色やにおいが気になります。検査が必要ですか？" ],
  [ "泌尿器科", nil, "背中に痛みがあります" ],

  [ "循環器科", nil, "動悸や息切れがあります" ],
  [ "循環器科", nil, "家で測った血圧が高めです" ],
  [ "循環器科", nil, "胸が締め付けられる感じがあります" ],
  [ "循環器科", nil, "心電図などの検査は必要でしょうか？" ],
  [ "循環器科", nil, "家族に心臓病の人がいますが、関係ありますか？" ],

  [ "脳神経外科", nil, "頭痛が頻繁にあります" ],
  [ "脳神経外科", nil, "手足が動かしにくいです" ],
  [ "脳神経外科", nil, "めまいや意識がぼんやりすることがあります" ],
  [ "脳神経外科", nil, "過去に転倒して頭を打ったことがありますが関係ありますか？" ],
  [ "脳神経外科", nil, "MRIやCT検査を受けた方がいいですか？" ],

  [ "心療内科", nil, "気分の落ち込みがあります" ],
  [ "心療内科", nil, "夜眠れないことが増えています" ],
  [ "心療内科", nil, "集中力や食欲が落ちています" ],
  [ "心療内科", nil, "ストレスの原因が分かりません" ],
  [ "心療内科", nil, "以前に心療内科にかかったことがありますが、再度受診すべきですか？" ],

  [ "リハビリテーション科", nil, "リハビリの目的や進め方について確認したいです" ],
  [ "リハビリテーション科", nil, "この動作がつらいのですが、練習方法はありますか？" ],
  [ "リハビリテーション科", nil, "手術の後、どういうリハビリが必要ですか？" ],
  [ "リハビリテーション科", nil, "家庭や職場で不便を感じています。改善の方法はありますか？" ],
  [ "リハビリテーション科", nil, "通う頻度や送迎のサポートについても相談したいです" ],

  [ "産婦人科", nil, "下腹部痛があります" ],
  [ "産婦人科", nil, "出血があります" ],
  [ "産婦人科", nil, "婦人科検診を受けた方がいいタイミングはいつですか？" ],
  [ "産婦人科", nil, "家族やパートナーに話しにくいことがあるのですが" ]
]

# 登録実行
department_question_data.each do |department, category, content|
  create_question(department, category, content)
end

# --- カテゴリ別質問データ ---
category_question_data = [
  [ "薬", "飲んでいる薬の副作用が心配です" ],
  [ "薬", "飲み忘れたときはどうすればいいですか？" ],
  [ "薬", "ずっと飲み続ける必要がありますか？" ],

  [ "検査", "検査の結果を詳しく教えてください" ],
  [ "検査", "この検査はなぜ必要だったのですか？" ],
  [ "検査", "他に受けておいた方がよい検査はありますか？" ],

  [ "通院", "次はいつ来ればいいですか？" ],
  [ "通院", "通院の間隔やスケジュールを教えてください" ],

  [ "生活", "普段の生活で気をつけた方がいいことはありますか？" ],
  [ "生活", "食事や運動についてアドバイスをもらえますか？" ],
  [ "生活", "睡眠やストレスが関係しているか気になります" ],

  [ "アレルギー", "蕁麻疹が出ます" ],
  [ "アレルギー", "この症状はアレルギーが原因でしょうか？" ],
  [ "アレルギー", "アレルギー源を避けるにはどうすればいいですか？" ],
  [ "アレルギー", "アレルギー検査を受けた方がいいでしょうか？" ],

  [ "緊急度", "この症状は緊急性がありますか？" ],
  [ "緊急度", "すぐに治療が必要な状態でしょうか？" ],
  [ "緊急度", "様子を見ても大丈夫ですか？" ]
]

# 登録実行
category_question_data.each do |category_name, content|
  create_question(nil, category_name, content)
end
